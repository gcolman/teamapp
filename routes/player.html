<div ng-app="myApp"  ng-controller="playerController as pc">

  <md-content>
    <md-tabs md-dynamic-height md-border-bottom>
      <md-tab label="Player">
        <md-content class="md-padding">
          <div layout="row">
            <div flex="50">
              <h1 class="md-display-2"><img class="md-avatar" style="border-radius: 50%; width:70" src="images/people/{{pc.player.IDNumber}}"/>&nbsp;{{pc.player.Firstname}} {{pc.player.Surname}}</h1>
            </div>
            <div flex layout="row"  layout-align="end center">
              <div ng-if="pc.player.Player != undefined || pc.player.Player!='' ">
                <md-button class="md-raised md-primary" ng-click="pc.updatePlayer()">Save</md-button>
              </div>
              <div ng-if="pc.player.Player == undefined">
                <md-button class="md-raised md-primary" ng-click="pc.addPlayer()">Add</md-button>
              </div>
            </div>
          </div>
          <div ng-show="true" layout="column" ng-repeat="(key, data) in pc.player">
            <div layout="row">
              <md-input-container style="margin:5px" >
                  <span ng-if='key != "_id" && key != "Statistics"'>
                    <label>{{key}}</label>
                    <input size="100" dynamic-model="'pc.player.' + key"  type="text"/>
                  </span>
                </md-input-container>
              </div>
            </div>
        </md-content>
      </md-tab>

      <div ng-repeat="stat in pc.player.Statistics">
        <md-tab label="{{stat.Type}}">
          <md-content class="md-padding">
            <div layout="row">
              <div flex="50">
                <h1 class="md-display-2">{{stat.Type}}</h1>
              </div>
              <div flex="50" layout="row"  layout-align="end center">
                <md-button aria-label="Save" class=" md-raised md-mini md-primary" ng-click="pc.updatePlayer()">Save</md-button>
              </div>
            </div>
            <div id="statstable" >


            <div layout ng-repeat="score in stat.Scores">
              <div flex="33" layout="row" layout-align="start center">
                <span>{{score.skill}}</span>
              </div>
              <md-slider flex class="md-warn" md-discrete ng-model="score.score" step="1" min="0" max="5" aria-label="rating"></md-slider>
                <span>{{score.score}}</span>
            </div>
          </md-tab>
        </div>
    </md-tabs>
  </md-content>


</div>
</md-content>

</div>
